<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    {% if page.title == "Home" %}
      {{ site.title }} &middot; {{ site.tagline }}
    {% else %}
      {{ page.title }} &middot; {{ site.title }}
    {% endif %}
  </title>

  <!-- Meta Description -->
  {% if page.description %}
    <meta name="description" content="{{ page.description | strip_html | truncate: 160 }}">
  {% elsif site.meta_description %}
    <meta name="description" content="{{ site.meta_description }}">
  {% endif %}

  <!-- Noindex for pages that opt out of indexing -->
  {% if page.noindex %}
    <meta name="robots" content="noindex, nofollow">
  {% endif %}

  <!-- Canonical URL -->
  {% assign canonical_url = page.url | replace: '/index.html', '/' %}
  <link rel="canonical" href="{{ site.url }}{{ canonical_url }}">

  <!-- Pagination: noindex for page 2+ and rel prev/next -->
  {% if paginator %}
    {% if paginator.page > 1 %}
      <meta name="robots" content="noindex, follow">
    {% endif %}
    {% if paginator.previous_page %}
      {% if paginator.previous_page == 1 %}
        <link rel="prev" href="{{ site.url }}/">
      {% else %}
        <link rel="prev" href="{{ site.url }}/page{{ paginator.previous_page }}/">
      {% endif %}
    {% endif %}
    {% if paginator.next_page %}
      <link rel="next" href="{{ site.url }}/page{{ paginator.next_page }}/">
    {% endif %}
  {% endif %}

  <!-- Open Graph -->
  <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.name }}{% endif %}">
  <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
  <meta property="og:url" content="{{ site.url }}{{ page.url }}">
  <meta property="og:site_name" content="{{ site.name }}">
  {% if page.description %}
    <meta property="og:description" content="{{ page.description | strip_html | truncate: 200 }}">
  {% elsif site.meta_description %}
    <meta property="og:description" content="{{ site.meta_description }}">
  {% endif %}

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="{{ site.author }}">
  <meta name="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.name }}{% endif %}">
  {% if page.description %}
    <meta name="twitter:description" content="{{ page.description | strip_html | truncate: 200 }}">
  {% elsif site.meta_description %}
    <meta name="twitter:description" content="{{ site.meta_description }}">
  {% endif %}

  <!-- CSS (inlined to eliminate render-blocking requests) -->
  <style>
  {% include css/poole.css %}
  {% include css/syntax.css %}
  {% include css/hyde.css %}
  {% include css/etagwerker.css %}
  </style>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400&family=Abril+Fatface&display=optional">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ site.url }}/feed.xml">
</head>
